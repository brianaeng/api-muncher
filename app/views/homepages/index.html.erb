<!-- Search:

The user shall type in a search term that will:
Make a request to the API using the search term
Display the results in a list to the user -->

<article class="center-this">
  <h1>Search For A Recipe!</h1>

  <section class="search-form">
    <%= form_tag root_path, method: :get do %>
    <%# form_tag results_path(1), method: :get do %>
      <%= text_field_tag :search_term, nil, placeholder: "Enter search term(s)" %>

        <!-- Commenting this out since options with dashes aren't working correctly -->
        <%# @health_options.each do |option| %>
              <!-- <p>
                <%# label_tag option %>
                <%# check_box_tag 'health_terms[]', option %>
              </p>
        <%# end %> -->

      <%= submit_tag "Search", class: "button" %>
    <% end %>
  </section>

  <section class="past-searches">
    <% if !session[:searches].empty? %>
      <h3>Recent Searches</h3>
      <% @searches.each do |search| %>
        <p><%= link_to search, results_path(1, search_term: search) %></p>
      <% end %>
    <% end %>
  </section>
</article>

<% if params[:commit] != nil %>
  <%= render"search_results" %>
<% end %>
